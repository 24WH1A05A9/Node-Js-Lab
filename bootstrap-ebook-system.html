<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Bootstrap E‑Book Management System — Responsive</title>

<!-- BOOTSTRAP 5 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="bg-light">

<!-- ================= NAVBAR ================= -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold">E‑Book System</a>

    <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><button class="btn btn-link nav-link" onclick="showPage('register')">Register</button></li>
        <li class="nav-item"><button class="btn btn-link nav-link" onclick="showPage('login')">Login</button></li>
        <li class="nav-item"><button class="btn btn-link nav-link" onclick="showPage('catalog')">Catalog</button></li>
        <li class="nav-item"><button class="btn btn-link nav-link" onclick="showPage('cart')">Cart</button></li>
      </ul>
    </div>
  </div>
</nav>

<!-- ================= MAIN CONTAINER ================= -->
<div class="container my-4" id="content"></div>

<footer class="bg-dark text-white text-center p-3 mt-5">
  Software Engineering Lab — Bootstrap Responsive E‑Book App
</footer>

<script>
/* ================= SAMPLE BOOK DATA ================= */
const books = [
 {id:1,title:'Software Engineering', author:'Pressman', price:300},
 {id:2,title:'Data Structures', author:'Weiss', price:250},
 {id:3,title:'Web Technologies', author:'Utpal', price:280},
 {id:4,title:'Java Programming', author:'Deitel', price:320},
 {id:5,title:'DBMS', author:'Korth', price:260},
 {id:6,title:'Computer Networks', author:'Tanenbaum', price:350}
];

/* ================= ROUTER ================= */
function showPage(p){
 if(p==='register') pageRegister();
 if(p==='login') pageLogin();
 if(p==='catalog') pageCatalog();
 if(p==='cart') pageCart();
}

/* ================= REGISTER ================= */
function pageRegister(){
content.innerHTML=`
<div class="row justify-content-center">
 <div class="col-lg-6 col-md-8">
  <div class="card shadow">
   <div class="card-body">
    <h3 class="text-center mb-3">User Registration</h3>
    <form onsubmit="event.preventDefault(); alert('Registered Successfully'); showPage('login')">
      <div class="row g-3">
        <div class="col-md-6"><input class="form-control" placeholder="Full Name" required></div>
        <div class="col-md-6"><input type="email" class="form-control" placeholder="Email" required></div>
        <div class="col-md-6"><input type="password" class="form-control" placeholder="Password" required></div>
        <div class="col-md-6"><input type="password" class="form-control" placeholder="Confirm Password" required></div>
      </div>
      <button class="btn btn-primary w-100 mt-3">Register</button>
    </form>
   </div>
  </div>
 </div>
</div>`;
}

/* ================= LOGIN ================= */
function pageLogin(){
content.innerHTML=`
<div class="row justify-content-center">
 <div class="col-lg-5 col-md-7">
  <div class="card shadow">
   <div class="card-body">
    <h3 class="text-center mb-3">Login</h3>
    <div class="mb-3"><input class="form-control" placeholder="Email"></div>
    <div class="mb-3"><input type="password" class="form-control" placeholder="Password"></div>
    <button class="btn btn-success w-100" onclick="showPage('catalog')">Login</button>
   </div>
  </div>
 </div>
</div>`;
}

/* ================= BOOK CATALOG ================= */
function pageCatalog(){
let html='<div class="row g-4">';

books.forEach(b=>{
 html+=`
 <div class="col-xl-3 col-lg-4 col-md-6">
  <div class="card h-100 shadow-sm">
   <div class="card-body d-flex flex-column">
    <h5 class="card-title">${b.title}</h5>
    <p class="mb-1">Author: ${b.author}</p>
    <p class="fw-bold mb-3">₹${b.price}</p>
    <button class="btn btn-primary mt-auto" onclick="addBook(${b.id})">Add to Cart</button>
   </div>
  </div>
 </div>`;
});

html+='</div>';
content.innerHTML = '<h3 class="mb-3">E‑Book Catalog</h3>' + html;
}

function addBook(id){
 let cart = JSON.parse(localStorage.getItem('ebook_cart')||'[]');
 let item = cart.find(x=>x.id===id);
 if(item) item.qty++;
 else{
  let b = books.find(x=>x.id===id);
  cart.push({...b, qty:1});
 }
 localStorage.setItem('ebook_cart', JSON.stringify(cart));
 alert('Book added to cart');
}

/* ================= CART ================= */
function pageCart(){
 let cart = JSON.parse(localStorage.getItem('ebook_cart')||'[]');
 let rows='';
 let total=0;

 cart.forEach(b=>{
  let sub=b.price*b.qty;
  total+=sub;
  rows+=`<tr>
    <td>${b.title}</td>
    <td>${b.author}</td>
    <td>${b.qty}</td>
    <td>₹${sub}</td>
    <td><button class="btn btn-sm btn-danger" onclick="removeBook(${b.id})">Remove</button></td>
  </tr>`;
 });

content.innerHTML=`
<h3 class="mb-3">Shopping Cart</h3>
<div class="table-responsive">
<table class="table table-bordered table-striped">
<thead class="table-dark">
<tr><th>Book</th><th>Author</th><th>Qty</th><th>Total</th><th></th></tr>
</thead>
<tbody>${rows}</tbody>
</table>
</div>
<h4 class="text-end">Grand Total: ₹${total}</h4>`;
}

function removeBook(id){
 let cart = JSON.parse(localStorage.getItem('ebook_cart')||'[]');
 cart = cart.filter(x=>x.id!==id);
 localStorage.setItem('ebook_cart', JSON.stringify(cart));
 pageCart();
}

/* DEFAULT PAGE */
showPage('register');
</script>

</body>
</html>

